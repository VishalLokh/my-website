version: 0.2

phases:
  install:
    commands:
      - echo "Installing required dependencies..."
      - pip install awscli  # Ensure awscli is installed to use in the build process

build:
  commands:
    - echo "Build phase not required for a static site"

post_build:
  commands:
    - echo "Deploying website files to S3 with correct content types..."
    - aws s3 cp ./ s3://vishal-lokhande.com/ --recursive --exclude "*.yml" --acl public-read --content-type "text/html" --metadata-directive REPLACE --exclude "styles.css"
    - aws s3 cp ./styles.css s3://vishal-lokhande.com/styles.css --acl public-read --content-type "text/css"

artifacts:
  files:
    - '**/*'
